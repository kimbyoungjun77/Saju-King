<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>별하(Byeolha) 개발 가이드 - 만세력 중심</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --pt-purple: #8b5cf6; --pt-pink: #ec4899; --pt-dark: #1e293b;
            --bg-main: #f8fafc; --glass: rgba(255, 255, 255, 0.9);
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Pretendard', sans-serif; background: var(--bg-main); display: flex; height: 100vh; color: var(--pt-dark); }
        
        /* Sidebar Nav */
        nav { width: 300px; background: white; border-right: 1px solid #e2e8f0; display: flex; flex-direction: column; padding: 30px 0; }
        .logo { padding: 0 30px 30px; border-bottom: 1px solid #f1f5f9; margin-bottom: 20px; }
        .logo h1 { font-size: 1.5rem; background: linear-gradient(to right, var(--pt-purple), var(--pt-pink)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .nav-item { padding: 15px 30px; cursor: pointer; color: #64748b; font-weight: 500; transition: 0.2s; border-right: 4px solid transparent; }
        .nav-item:hover { background: #f1f5f9; color: var(--pt-purple); }
        .nav-item.active { background: #f5f3ff; color: var(--pt-purple); border-right-color: var(--pt-purple); }

        /* Content Area */
        main { flex: 1; overflow-y: auto; padding: 50px; scroll-behavior: smooth; }
        .content-section { display: none; animation: fadeIn 0.3s ease; }
        .content-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* UI Elements */
        .card { background: white; border-radius: 20px; padding: 35px; margin-bottom: 30px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); border: 1px solid #f1f5f9; }
        h2 { font-size: 1.8rem; margin-bottom: 25px; display: flex; align-items: center; gap: 12px; }
        h2 i { color: var(--pt-purple); }
        .method-tag { background: #ede9fe; color: var(--pt-purple); padding: 4px 10px; border-radius: 6px; font-size: 0.8rem; font-weight: 700; margin-bottom: 10px; display: inline-block; }
        
        /* Code Block */
        pre { background: #0f172a; color: #e2e8f0; padding: 25px; border-radius: 15px; overflow-x: auto; font-family: 'Fira Code', monospace; line-height: 1.6; margin: 15px 0; font-size: 0.9rem; }
        .table-custom { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .table-custom th, .table-custom td { padding: 15px; border-bottom: 1px solid #f1f5f9; text-align: left; }
        .table-custom th { background: #f8fafc; color: #475569; }

        /* Saju Table Mockup */
        .saju-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; text-align: center; }
        .saju-box { padding: 20px; border-radius: 12px; background: #fdfbf7; border: 1px solid #e2e8f0; }
        .hanja { font-size: 2rem; font-weight: 900; margin: 10px 0; }
        .element-label { font-size: 0.85rem; padding: 2px 8px; border-radius: 4px; color: white; }
    </style>
</head>
<body>

    <nav>
        <div class="logo">
            <h1>별하 (Byeolha)</h1>
            <p style="font-size: 0.8rem; color: #94a3b8;">Premium Saju Analysis</p>
        </div>
        <div class="nav-item active" onclick="tab(0)"><i class="fa-solid fa-compass"></i> 서비스 분석</div>
        <div class="nav-item" onclick="tab(1)"><i class="fa-solid fa-calendar-days"></i> 만세력 로직 (핵심)</div>
        <div class="nav-item" onclick="tab(2)"><i class="fa-solid fa-code"></i> 백엔드 아키텍처</div>
        <div class="nav-item" onclick="tab(3)"><i class="fa-solid fa-palette"></i> UX/UI 명세</div>
        <div class="nav-item" onclick="tab(4)"><i class="fa-solid fa-microchip"></i> AI 분석 시스템</div>
    </nav>

    <main>
        <section id="s0" class="content-section active">
            <h2><i class="fa-solid fa-magnifying-glass"></i> 포스텔러 벤치마킹 분석</h2>
            <div class="card">
                <h3>1. 핵심 가치: "전문성 + 트렌디"</h3>
                <p>포스텔러의 성공 요인은 어려운 명리학 용어를 2030의 언어로 재해석한 것입니다. 별하 프로젝트 역시 이 공식을 따릅니다.</p>
                <table class="table-custom">
                    <tr><th>구분</th><th>포스텔러 특징</th><th>별하 적용 전략</th></tr>
                    <tr><td>데이터</td><td>자체 만세력 엔진</td><td>고정밀 절기 계산 알고리즘</td></tr>
                    <tr><td>디자인</td><td>감성적 일러스트, 캐릭터</td><td>글라스모피즘 & 파스텔톤 UI</td></tr>
                    <tr><td>해석</td><td>친근한 챗봇 스타일</td><td>GPT-4o 기반 라이프 코칭</td></tr>
                </table>
            </div>
        </section>

        <section id="s1" class="content-section">
            <h2><i class="fa-solid fa-calendar-check"></i> 만세력 정밀 로직 (saju_logic.py)</h2>
            <div class="card">
                <span class="method-tag">Algorithm</span>
                <h3>1. 절기(24 Solar Terms) 정밀 판정</h3>
                <p>단순 월 단위가 아닌, <b>입춘(立春)</b>의 시/분 단위를 기준으로 년주와 월주를 변경합니다.</p>
<pre><code><span style="color: #6a9955"># 년주 변경 기준 알고리즘</span>
<span style="color: #569cd6">def</span> <span style="color: #dcdcaa">calc_year_pillar</span>(year, month, day, hour):
    <span style="color: #6a9955"># 입춘(Lichun)은 매년 약 2월 4일경 시각이 달라짐</span>
    is_after_lichun = check_exact_lichun_time(year, month, day, hour)
    calc_year = year <span style="color: #569cd6">if</span> is_after_lichun <span style="color: #569cd6">else</span> year - 1
    <span style="color: #569cd6">return</span> (calc_year - 4) % 60</code></pre>
            </div>
            
            <div class="card">
                <h3>2. 야자시(夜子時) 및 조자시(朝子時) 처리</h3>
                <p>23:30~00:00 사이 태어난 경우 일주를 다음 날로 볼 것인지에 대한 정밀 옵션을 제공합니다.</p>
                <table class="table-custom">
                    <tr><th>구분</th><th>시간 범위</th><th>처리 로직</th></tr>
                    <tr><td>조자시</td><td>00:00 ~ 01:30</td><td>당일 일주 사용</td></tr>
                    <tr><td>야자시</td><td>22:30 ~ 00:00</td><td>일주는 당일, 시주는 다음 날 자시</td></tr>
                </table>
            </div>
        </section>

        <section id="s3" class="content-section">
            <h2><i class="fa-solid fa-wand-magic-sparkles"></i> UX/UI 디자인 시스템</h2>
            <div class="card">
                <h3>1. 결과지 시각화 (Saju Pillars)</h3>
                <p>사용자가 자신의 기운을 한눈에 알 수 있도록 오행 색상을 강조합니다.</p>
                <div class="saju-grid">
                    <div class="saju-box"><p>시주</p><div class="hanja" style="color: #2563eb;">壬</div><span class="element-label" style="background: #2563eb;">수 (Water)</span></div>
                    <div class="saju-box" style="border: 2px solid var(--pt-purple);"><p>일주(나)</p><div class="hanja" style="color: #16a34a;">甲</div><span class="element-label" style="background: #16a34a;">목 (Wood)</span></div>
                    <div class="saju-box"><p>월주</p><div class="hanja" style="color: #ea580c;">丙</div><span class="element-label" style="background: #ea580c;">화 (Fire)</span></div>
                    <div class="saju-box"><p>년주</p><div class="hanja" style="color: #d97706;">戊</div><span class="element-label" style="background: #d97706;">토 (Earth)</span></div>
                </div>
            </div>
            <div class="card">
                <h3>2. 애니메이션 플로우</h3>
                <ul>
                    <li><b>로딩 화면:</b> "당신의 우주를 정렬하고 있습니다" 등 감성 문구 5종 순환 출력</li>
                    <li><b>탭 전환:</b> Chart.js를 이용한 오행 레이더 차트의 부드러운 렌더링</li>
                </ul>
            </div>
        </section>

        <section id="s4" class="content-section">
            <h2><i class="fa-solid fa-brain"></i> AI 심층 분석 시스템 (GPT-4o)</h2>
            <div class="card">
                <h3>1. 프롬프트 엔지니어링 (Persona)</h3>
                <p>차갑고 딱딱한 운세가 아닌, 다정하지만 뼈를 때리는 '인생 선배' 페르소나를 부여합니다.</p>
<pre><code><span style="color: #ce9178">"당신은 포스텔러 스타일의 현대 명리학 마스터입니다.
사용자의 오행 비율 {ohaeng}과 십신 {ten_stars}을 분석하여,
2030 세대가 공감할 수 있는 심리학적 조언을 8문장 이상 서술하세요."</span></code></pre>
            </div>
        </section>
    </main>

    <script>
        function tab(idx) {
            const sections = document.querySelectorAll('.content-section');
            const items = document.querySelectorAll('.nav-item');
            
            sections.forEach(s => s.classList.remove('active'));
            items.forEach(i => i.classList.remove('active'));
            
            document.getElementById('s' + idx).classList.add('active');
            items[idx].classList.add('active');
        }
    </script>
</body>
</html>
