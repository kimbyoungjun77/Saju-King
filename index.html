<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë³„í•˜ (Byeolha) í†µí•© ëŒ€ì‹œë³´ë“œ</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-purple: #a78bfa;
            --primary-pink: #f472b6;
            --bg-cream: #fdfbf7;
            --sidebar-bg: rgba(255, 255, 255, 0.9);
            --glass-bg: rgba(255, 255, 255, 0.7);
            --code-bg: #1e1e1e;
            --text-main: #333;
        }

        * { box-sizing: border-box; }

        body {
            font-family: 'Pretendard', sans-serif;
            background-color: var(--bg-cream);
            color: var(--text-main);
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* ì‚¬ì´ë“œë°” ìŠ¤íƒ€ì¼ */
        nav {
            width: 280px;
            background: var(--sidebar-bg);
            border-right: 1px solid rgba(167, 139, 250, 0.2);
            display: flex;
            flex-direction: column;
            padding: 20px 0;
            box-shadow: 4px 0 15px rgba(0,0,0,0.03);
            z-index: 100;
        }

        .nav-header {
            padding: 0 25px 20px;
            border-bottom: 1px solid #eee;
            margin-bottom: 15px;
        }

        .nav-header h1 {
            font-size: 1.5rem;
            background: linear-gradient(to right, var(--primary-purple), var(--primary-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 0;
        }

        .nav-item {
            padding: 12px 25px;
            cursor: pointer;
            display: flex;
            align-items: center;
            font-weight: 500;
            transition: all 0.2s ease;
            color: #666;
            font-size: 0.95rem;
        }

        .nav-item i { width: 25px; margin-right: 10px; color: var(--primary-purple); }
        .nav-item:hover { background: rgba(167, 139, 250, 0.05); color: var(--primary-purple); }
        .nav-item.active { 
            background: rgba(167, 139, 250, 0.1); 
            color: var(--primary-purple); 
            border-right: 4px solid var(--primary-purple);
        }

        /* ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ */
        main {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
            scroll-behavior: smooth;
        }

        .doc-section { display: none; max-width: 1000px; margin: 0 auto; animation: fadeIn 0.4s ease; }
        .doc-section.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* ê³µí†µ ì¹´ë“œ ë° ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        section {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.05);
        }

        h2 { 
            display: flex; align-items: center; color: #444; 
            border-bottom: 2px solid var(--primary-purple); 
            padding-bottom: 10px; margin-top: 0; font-size: 1.5rem;
        }
        h2 i { margin-right: 12px; color: var(--primary-purple); }

        h3 { color: #555; margin-top: 25px; }

        /* í‘œ ìŠ¤íƒ€ì¼ */
        table { width: 100%; border-collapse: collapse; margin-top: 15px; background: white; border-radius: 8px; overflow: hidden; }
        th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #eee; }
        th { background-color: rgba(167, 139, 250, 0.1); color: #555; }

        /* ì½”ë“œ ë¸”ë¡ ìŠ¤íƒ€ì¼ */
        pre {
            background: var(--code-bg); color: #d4d4d4; padding: 20px;
            border-radius: 12px; overflow-x: auto; font-family: 'Fira Code', monospace;
            font-size: 0.9rem; line-height: 1.6; margin: 15px 0;
        }
        code { font-family: inherit; }
        .keyword { color: #569cd6; } .comment { color: #6a9955; } .string { color: #ce9178; }

        /* ìœ í‹¸ë¦¬í‹° */
        .badge { display: inline-block; background: var(--primary-purple); color: white; padding: 2px 10px; border-radius: 20px; font-size: 0.8rem; margin-left: 5px; }
        .warning { background-color: #fff5f5; border-left: 4px solid #f87171; padding: 15px; margin: 20px 0; font-size: 0.95rem; border-radius: 4px; }
        .tech-tag { display: inline-block; background: #f0f4ff; color: #4338ca; padding: 4px 12px; border-radius: 20px; font-size: 0.85rem; margin: 0 5px 5px 0; font-weight: 600; }
        .hanja { font-size: 1.4rem; font-weight: bold; margin-bottom: 5px; display: block; }
    </style>
</head>
<body>

    <nav>
        <div class="nav-header">
            <h1>ë³„í•˜ (Byeolha)</h1>
            <small style="color:#888">Developer Dashboard</small>
        </div>
        <div class="nav-item active" onclick="showDoc('readme')"><i class="fa-solid fa-star"></i> README (í”„ë¡œì íŠ¸ ì†Œê°œ)</div>
        <div class="nav-item" onclick="showDoc('overview')"><i class="fa-solid fa-circle-info"></i> 01 í”„ë¡œì íŠ¸ ê°œìš”</div>
        <div class="nav-item" onclick="showDoc('saju')"><i class="fa-solid fa-calculator"></i> 02 ì‚¬ì£¼ ë¡œì§ ëª…ì„¸</div>
        <div class="nav-item" onclick="showDoc('ai')"><i class="fa-solid fa-robot"></i> 03 AI ë¶„ì„ ëª¨ë“ˆ ëª…ì„¸</div>
        <div class="nav-item" onclick="showDoc('flask')"><i class="fa-solid fa-server"></i> 04 Flask ì•± ëª…ì„¸</div>
        <div class="nav-item" onclick="showDoc('ui')"><i class="fa-solid fa-palette"></i> 05 í”„ë¡ íŠ¸ì—”ë“œ UI ëª…ì„¸</div>
        <div class="nav-item" onclick="showDoc('data')"><i class="fa-solid fa-database"></i> 06 ë°ì´í„° êµ¬ì¡° ëª…ì„¸</div>
        <div class="nav-item" onclick="showDoc('source')"><i class="fa-solid fa-code"></i> 07 ì „ì²´ ì†ŒìŠ¤ì½”ë“œ</div>
    </nav>

    <main id="main-content">

        <div id="readme" class="doc-section active">
            <header style="text-align: center; margin-bottom: 40px;">
                <h1 style="font-size: 2.5rem; background: linear-gradient(135deg, var(--primary-purple), var(--primary-pink)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">ë³„í•˜ (Byeolha)</h1>
                <p style="font-size: 1.2rem; color: #666;">"ë‹¹ì‹ ì˜ ìš´ëª…ì„ ë¹„ì¶”ëŠ” ë³„ âœ¨"</p>
            </header>
            <section>
                <h2><i class="fa-solid fa-book-open"></i> ì†Œê°œ</h2>
                <p><strong>ë³„í•˜(Byeolha)</strong>ëŠ” AI ê¸°ë°˜ ì‹¬ì¸µ ì‚¬ì£¼ ë¶„ì„ ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì „í†µ ëª…ë¦¬í•™ì˜ ì‚¬ì£¼íŒ”ì ê³„ì‚°ê³¼ í˜„ëŒ€ì ì¸ <strong>GPT-4o AI ë¶„ì„</strong>ì„ ê²°í•©í•˜ì—¬, í’ë¶€í•˜ê³  ê°œì¸í™”ëœ ìš´ì„¸ ë¶„ì„ì„ ì œê³µí•©ë‹ˆë‹¤.</p>
            </section>
            <section>
                <h2><i class="fa-solid fa-wand-magic-sparkles"></i> ì£¼ìš” ê¸°ëŠ¥</h2>
                <ul style="line-height: 2;">
                    <li><strong>ì‚¬ì£¼ ì›êµ­ ê³„ì‚°</strong>: ë…„/ì›”/ì¼/ì‹œì£¼ ìë™ ê³„ì‚°</li>
                    <li><strong>ì˜¤í–‰ ë¶„ì„</strong>: ëª©/í™”/í† /ê¸ˆ/ìˆ˜ ë¶„í¬ ë° ë°¸ëŸ°ìŠ¤ ì§„ë‹¨</li>
                    <li><strong>ì‹­ì„± íŒì •</strong>: 8ê°œ ê¸€ìì˜ ì‹­ì‹ (ì‹­ì„±) ê´€ê³„ ë¶„ì„</li>
                    <li><strong>ëŒ€ìš´ ë¶„ì„</strong>: 10ë…„ ì£¼ê¸° 8íšŒ = 80ë…„ ìš´ì„¸</li>
                    <li><strong>ê·¼ë¬˜í™”ì‹¤</strong>: ìƒì•  4ë‹¨ê³„ ë¶„ì„</li>
                    <li><strong>AI ì‹¬ì¸µ ë¶„ì„</strong>: GPT-4o ê¸°ë°˜ ì¥ë¬¸ í•´ì„</li>
                </ul>
            </section>
            <section>
                <h2><i class="fa-solid fa-layer-group"></i> ê¸°ìˆ  ìŠ¤íƒ</h2>
                <div style="margin-top: 15px;">
                    <span class="tech-tag">Backend: Flask</span>
                    <span class="tech-tag">AI: GPT-4o</span>
                    <span class="tech-tag">Calendar: korean-lunar-calendar</span>
                    <span class="tech-tag">Frontend: HTML5, CSS3, JS</span>
                    <span class="tech-tag">Chart: Chart.js</span>
                    <span class="tech-tag">Icon: Font Awesome 6.0</span>
                </div>
            </section>
        </div>

        <div id="overview" class="doc-section">
            <h2><i class="fa-solid fa-circle-info"></i> 01 í”„ë¡œì íŠ¸ ê°œìš”</h2>
            <section>
                <h3>í”„ë¡œì íŠ¸ ì •ë³´</h3>
                <table>
                    <tr><th>í•­ëª©</th><td>ë‚´ìš©</td></tr>
                    <tr><th>í”„ë¡œì íŠ¸ëª…</th><td>ë³„í•˜ (Byeolha) - ë‹¹ì‹ ì˜ ìš´ëª…ì„ ë¹„ì¶”ë‹¤</td></tr>
                    <tr><th>ê¸°ìˆ  ìŠ¤íƒ</th><td>Python Flask + OpenAI GPT-4o + HTML/CSS/JS</td></tr>
                    <tr><th>ì£¼ìš” ê¸°ëŠ¥</th><td>AI ê¸°ë°˜ ì‹¬ì¸µ ì‚¬ì£¼ ë¶„ì„ ì›¹ ì„œë¹„ìŠ¤</td></tr>
                    <tr><th>ë¶„ì„ ë²”ìœ„</th><td>ì‚¬ì£¼ ì›êµ­, ì˜¤í–‰/ì‹­ì„±, ê·¼ë¬˜í™”ì‹¤, ëŒ€ìš´ 8ì£¼ê¸°</td></tr>
                </table>
            </section>
            <section>
                <h3>ì‚¬ìš©ì í”Œë¡œìš°</h3>
                <div style="background: #f0ebff; padding: 20px; border-radius: 10px; text-align: center; color: #5b21b6; font-weight: bold;">
                    ì…ë ¥ í¼ (index.html) â†’ ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ (loading.html) â†’ ê²°ê³¼ ë¶„ì„ ì™„ë£Œ (result.html)
                </div>
            </section>
        </div>

        <div id="saju" class="doc-section">
            <h2><i class="fa-solid fa-calculator"></i> 02 ì‚¬ì£¼ ë¡œì§ ëª…ì„¸ì„œ (saju_logic.py)</h2>
            <section>
                <h3>ğŸ“Œ ê°œìš”</h3>
                <p><code>SajuLogic</code> í´ë˜ìŠ¤ëŠ” ì‚¬ì£¼íŒ”ì ê³„ì‚°ì˜ í•µì‹¬ ë¡œì§ì„ ë‹´ë‹¹í•˜ë©° ì´ 705ì¤„ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.</p>
                <h3>ğŸ”§ ê¸°ë³¸ ë°ì´í„° êµ¬ì¡°</h3>
                <pre><code><span class="comment"># ì²œê°„ (Heavenly Stems)</span>
CHEONGAN = ['ê°‘', 'ì„', 'ë³‘', 'ì •', 'ë¬´', 'ê¸°', 'ê²½', 'ì‹ ', 'ì„', 'ê³„']
<span class="comment"># ì§€ì§€ (Earthly Branches)</span>
JIJI = ['ì', 'ì¶•', 'ì¸', 'ë¬˜', 'ì§„', 'ì‚¬', 'ì˜¤', 'ë¯¸', 'ì‹ ', 'ìœ ', 'ìˆ ', 'í•´']</code></pre>
            </section>
            <section>
                <h3>ğŸ§® í•µì‹¬ ì•Œê³ ë¦¬ì¦˜</h3>
                <h4>ë…„ì£¼ (Year Pillar)</h4>
                <pre><code>is_before_lichun = (month < 2) or (month == 2 and day < 4)
calc_year = year - 1 <span class="keyword">if</span> is_before_lichun <span class="keyword">else</span> year
year_idx = (calc_year - 4) % 60</code></pre>
                <h4>ì¼ì£¼ (Day Pillar)</h4>
                <pre><code><span class="comment"># ê¸°ì¤€ì¼: 2000ë…„ 1ì›” 1ì¼ = ë¬´ì˜¤(æˆŠåˆ)</span>
ref_2000 = datetime(2000, 1, 1)
delta_days = (curr_date - ref_2000).days
day_cycle_idx = (54 + delta_days) % 60</code></pre>
            </section>
        </div>

        <div id="ai" class="doc-section">
            <h2><i class="fa-solid fa-robot"></i> 03 AI ë¶„ì„ ëª¨ë“ˆ ëª…ì„¸ì„œ (ai_analysis.py)</h2>
            <section>
                <h3>ğŸ¯ GPT í”„ë¡¬í”„íŠ¸ ì „ëµ</h3>
                <div style="background: #f0f4ff; border-left: 5px solid #5c7cfa; padding: 20px; border-radius: 4px;">
                    <strong>Role:</strong> 2030 ë§ì¶¤í˜• ë¼ì´í”„ ì „ëµê°€ & í˜„ëŒ€ ëª…ë¦¬í•™ ë§ˆìŠ¤í„°<br><br>
                    ì‚¬ìš©ìì˜ ìƒì•  ì£¼ê¸°ì  ë°°ê²½ì„ ê³ ë ¤í•˜ì—¬ ì „ë¬¸ì ì¸ ì¡°ì–¸ì„ ìƒì„±í•©ë‹ˆë‹¤. ì „ë¬¸ ìš©ì–´ë¥¼ í˜„ëŒ€ì  ì‹¬ë¦¬í•™ ìš©ì–´ì™€ ë¹„ìœ (ì˜ˆ: ë‹¨ë‹¨í•œ ì›ì„)ë¡œ í’€ì–´ë‚´ì–´ ê³µê°ì„ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.
                </div>
                <h3>ğŸ“¤ ì¶œë ¥ JSON êµ¬ì¡° (ì¥ë¬¸ ë¶„ì„)</h3>
                <pre><code>{
  "total_summary": "8~12ë¬¸ì¥ ì´ìƒì˜ ì—ì„¸ì´í˜• ì´í‰",
  "gmhs": { "year": "ì´ˆë…„ê¸°", "month": "ì²­ë…„ê¸°", ... },
  "daewoon_trend": "ëŒ€ìš´ íë¦„ ì„œì‚¬",
  "wealth_strategy": "ì¬ë¬¼ ìš´ìš© ì „ëµ"
}</code></pre>
            </section>
        </div>

        <div id="flask" class="doc-section">
            <h2><i class="fa-solid fa-server"></i> 04 Flask ì•± ëª…ì„¸ì„œ (app.py)</h2>
            <section>
                <h3>ğŸ›£ï¸ ë¼ìš°íŠ¸ ì •ì˜</h3>
                <table>
                    <tr><th>Path</th><th>Method</th><th>Description</th></tr>
                    <tr><td><code>/</code></td><td>GET</td><td>ì…ë ¥ í¼ í˜ì´ì§€</td></tr>
                    <tr><td><code>/loading</code></td><td>POST</td><td>ë¡œë”© ë° ë°ì´í„° ì „ë‹¬</td></tr>
                    <tr><td><code>/result</code></td><td>POST</td><td>ì‚¬ì£¼ ê³„ì‚° + AI ë¶„ì„ ê²°ê³¼ ë Œë”ë§</td></tr>
                </table>
            </section>
            <section>
                <h3>ğŸ”„ ë°ì´í„° ì²˜ë¦¬ íë¦„</h3>
                <ol style="line-height: 2;">
                    <li>ì‚¬ìš©ì ì…ë ¥ íŒŒì‹± (ì´ë¦„, ì„±ë³„, ìƒë…„ì›”ì¼ì‹œ)</li>
                    <li><code>SajuLogic</code>ì„ í†µí•œ ê¸°ë³¸ ë°ì´í„° ë° ì‹­ì„± ë„ì¶œ</li>
                    <li><code>AIAnalysis</code> í˜¸ì¶œì„ í†µí•œ GPT-4o ì‹¬ì¸µ ë¶„ì„ ë°ì´í„° ìˆ˜ì‹ </li>
                    <li>ê¸°ë³¸ ë°ì´í„°ì™€ AI ë°ì´í„°ë¥¼ ë³‘í•©í•˜ì—¬ <code>result.html</code> ë Œë”ë§</li>
                </ol>
            </section>
        </div>

        <div id="ui" class="doc-section">
            <h2><i class="fa-solid fa-palette"></i> 05 í”„ë¡ íŠ¸ì—”ë“œ UI ëª…ì„¸ì„œ</h2>
            <section>
                <h3>ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ</h3>
                <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                    <div style="background:#a78bfa; width:50px; height:50px; border-radius:50%;"></div>
                    <div style="background:#f472b6; width:50px; height:50px; border-radius:50%;"></div>
                    <div style="background:#fdfbf7; width:50px; height:50px; border-radius:50%; border:1px solid #ddd;"></div>
                </div>
                <p><strong>ì»¨ì…‰:</strong> íŒŒìŠ¤í…” ë³´ë¼(#a78bfa), í•‘í¬(#f472b6), í¬ë¦¼ ë°°ê²½(#fdfbf7)ì„ ì‚¬ìš©í•œ ê¸€ë¼ìŠ¤ëª¨í”¼ì¦˜ ìŠ¤íƒ€ì¼.</p>
            </section>
            <section>
                <h3>ğŸ“Š ì‚¬ì£¼ ì›êµ­í‘œ êµ¬í˜„ ì˜ˆì‹œ</h3>
                <table style="text-align: center; width: 60%; margin: 0 auto;">
                    <tr style="background:#f8f9fa"><th>êµ¬ë¶„</th><th>ì¼ì£¼</th></tr>
                    <tr><td>ì²œê°„</td><td style="color:#16a34a"><span class="hanja">ç”²</span><br>ë¹„ê²¬</td></tr>
                    <tr><td>ì§€ì§€</td><td style="color:#2563eb"><span class="hanja">å­</span><br>ì •ì¸</td></tr>
                </table>
            </section>
        </div>

        <div id="data" class="doc-section">
            <h2><i class="fa-solid fa-database"></i> 06 ë°ì´í„° êµ¬ì¡° ëª…ì„¸ì„œ</h2>
            <section>
                <h3>ğŸ›ï¸ ì‚¬ì£¼ ì›êµ­ (pillars) êµ¬ì¡°</h3>
                <pre><code>'year': {
    'gan': 'ê²½', 'zhi': 'ì˜¤',
    'gan_idx': 6, 'zhi_idx': 6,
    'gan_element': 'metal', 'zhi_element': 'fire'
}</code></pre>
            </section>
            <section>
                <h3>ğŸ“‹ ì‹­ì„± ë§¤í•‘ (diff ê³„ì‚°)</h3>
                <p><code>(target_element_idx - my_element_idx) % 5</code></p>
                <table>
                    <tr><th>diff</th><th>ê°™ì€ ìŒì–‘</th><th>ë‹¤ë¥¸ ìŒì–‘</th></tr>
                    <tr><td>0 (ë¹„ê²)</td><td>ë¹„ê²¬</td><td>ê²ì¬</td></tr>
                    <tr><td>1 (ì‹ìƒ)</td><td>ì‹ì‹ </td><td>ìƒê´€</td></tr>
                    <tr><td>2 (ì¬ì„±)</td><td>í¸ì¬</td><td>ì •ì¬</td></tr>
                </table>
            </section>
        </div>

        <div id="source" class="doc-section">
            <h2><i class="fa-solid fa-code"></i> 07 ì „ì²´ ì†ŒìŠ¤ì½”ë“œ</h2>
            <div class="warning">âš ï¸ ì†ŒìŠ¤ì½”ë“œëŠ” ë§¤ìš° ê¸¸ê¸° ë•Œë¬¸ì— í•µì‹¬ íŒŒì¼ì˜ ìƒë‹¨ ë¡œì§ë§Œ í‘œì‹œí•©ë‹ˆë‹¤.</div>
            <section>
                <h3>app.py (Flask ë©”ì¸)</h3>
                <pre><code><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, render_template, request
<span class="keyword">from</span> saju_logic <span class="keyword">import</span> SajuLogic
<span class="keyword">from</span> ai_analysis <span class="keyword">import</span> AIAnalysis

app = Flask(__name__)
saju = SajuLogic()
ai = AIAnalysis()

<span class="comment"># Route and processing logic...</span></code></pre>
            </section>
            <section>
                <h3>ai_analysis.py (AI ì—°ë™)</h3>
                <pre><code><span class="keyword">class</span> AIAnalysis:
    <span class="keyword">def</span> get_deep_analysis(self, name, gender, pillars, ...):
        <span class="comment"># OpenAI API í˜¸ì¶œ ë° JSON íŒŒì‹± ë¡œì§</span></code></pre>
            </section>
        </div>

    </main>

    <script>
        // ë¬¸ì„œ ì „í™˜ í•¨ìˆ˜
        function showDoc(docId) {
            // ëª¨ë“  ì„¹ì…˜ ë¹„í™œì„±í™”
            const sections = document.querySelectorAll('.doc-section');
            sections.forEach(sec => sec.classList.remove('active'));

            // ëª¨ë“  ì‚¬ì´ë“œë°” ì•„ì´í…œ ë¹„í™œì„±í™”
            const items = document.querySelectorAll('.nav-item');
            items.forEach(item => item.classList.remove('active'));

            // ì„ íƒëœ ì„¹ì…˜ í™œì„±í™”
            const target = document.getElementById(docId);
            if (target) {
                target.classList.add('active');
            }

            // í´ë¦­ëœ ë©”ë‰´ ê°•ì¡°
            event.currentTarget.classList.add('active');

            // ë©”ì¸ ì»¨í…ì¸  ìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤
            document.getElementById('main-content').scrollTop = 0;
        }
    </script>
</body>
</html>
